# 好大夫医生信息数据库

## 项目简介

本目录包含从好大夫在线（haodf.com）自动抓取的医院科室医生详细信息。数据每天自动更新，保存为Excel格式。

## 数据结构

每个Excel文件包含以下14个字段：

| 字段 | 说明 | 完整度预期 |
|------|------|------------|
| 医院 | 医院全称 | 100% |
| 科室 | 科室名称 | 100% |
| 姓名 | 医生姓名 | 100% |
| 职称 | 职称（如主任医师、副主任医师） | 100% |
| 专业方向 | 专业方向（如呼吸与危重症医学科） | 95%+ |
| 专业擅长 | 擅长的疾病和治疗方向 | 95%+ |
| 个人简介 | 教育背景、工作经历、研究方向 | 95%+ |
| 社会任职 | 在学会、协会中的职务 | 85%+ |
| 科研成果 | 论文、专利、获奖等 | 85%+ |
| 治疗经验 | 治疗过的疾病类型和案例数量 | 30-50% |
| 疗效满意度 | 患者对疗效的满意度评分 | 100% |
| 态度满意度 | 患者对医生态度的满意度评分 | 100% |
| 病友推荐度 | 病友推荐评分 | 100% |
| 医生介绍页URL | 原始数据来源链接 | 100% |

## 文件命名规则

`{医院简称}_{科室名称}_医生信息_{YYYYMMDD}.xlsx`

例如：`中山医院_呼吸科_医生信息_20260211.xlsx`

## 数据更新频率

- **自动更新**：每天凌晨2点（北京时间）
- **更新方式**：全量抓取，按日期保存新文件
- **历史数据**：保留所有历史文件，可追溯数据变化

## 数据质量说明

### 抓取规则
1. **跳过无个人简介的医生**：这类医生通常信息不完整，不纳入数据库
2. **验证码处理**：遇到验证码立即停止，保存已抓取数据
3. **治疗经验字段**：位于页面右侧边栏，部分医生可能没有此字段

### 数据完整性
- **基本信息字段**（医院、科室、姓名、职称、专业方向）：接近100%完整
- **专业字段**（专业擅长、个人简介）：95%以上完整
- **学术字段**（社会任职、科研成果）：85%以上完整
- **治疗经验字段**：30-50%完整（取决于医生是否在好大夫平台有足够案例）
- **评分字段**：100%完整

### 抓取状态标记
每条记录包含"抓取状态"列，可能的值：
- `成功`：完整抓取
- `跳过：无个人简介`：该医生页面无个人简介，已跳过
- `失败：{原因}`：抓取失败，如遇到验证码

## 当前覆盖医院

### 复旦大学附属中山医院
- **呼吸科**：20位医生（16位有效，3位跳过，1位失败）
  - 最后更新：2026-02-11
  - 文件：`中山医院_呼吸科_医生信息_20260211.xlsx`

## 技术实现

### 抓取技术
- **工具**：Manus AI Agent + 浏览器自动化
- **并行处理**：使用map工具同时处理多位医生，提高效率
- **反爬虫策略**：使用真实浏览器会话，保持登录状态

### 核心技能
本项目使用自定义技能 `haodf-doctor-scraper`，位于：
`/home/ubuntu/skills/haodf-doctor-scraper/`

技能包含：
- 完整的抓取工作流程
- 14个字段的详细说明
- 数据解析和Excel生成脚本
- 质量验证工具

### 定时任务
- **任务名称**：`daily_haodf_doctor_scrape`
- **执行时间**：每天凌晨2点
- **执行内容**：读取 `scripts/daily_scrape_prompt.md`，执行完整抓取流程

## 使用说明

### 查看数据
直接打开Excel文件即可查看医生详细信息。

### 数据分析
可以使用Python pandas库读取Excel文件进行分析：

```python
import pandas as pd

# 读取数据
df = pd.read_excel('中山医院_呼吸科_医生信息_20260211.xlsx')

# 查看基本统计
print(df.info())
print(df['职称'].value_counts())

# 筛选有治疗经验的医生
has_exp = df[df['治疗经验'] != '（页面未显示）']
print(f"有治疗经验数据的医生：{len(has_exp)}")
```

### 数据追溯
每条记录都包含"医生介绍页URL"，可以访问原始页面验证数据准确性。

## 数据使用协议

本数据来源于好大夫在线公开信息，仅供学习和研究使用。请遵守以下原则：

1. **非商业用途**：不得用于商业目的
2. **数据准确性**：数据可能存在更新延迟，重要决策请访问原始页面确认
3. **隐私保护**：尊重医生隐私，不得用于骚扰或其他不当用途
4. **来源标注**：使用数据时请注明来源

## 联系方式

如有问题或建议，请通过GitHub Issues反馈。

---

**最后更新**：2026-02-11  
**维护者**：Manus AI Agent  
**GitHub仓库**：https://github.com/weiyufan1994/medibridge
